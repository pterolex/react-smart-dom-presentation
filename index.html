<!DOCTYPE html>
<html lang="en">
<head>
    <title>React renderer for your Smart home</title>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="node_modules/shower-ribbon/styles/screen-16x10.css">
    <style>
        .slide {
            padding-top: 25px;
        }

        iframe {
            height: 500px;
            width: 825px;
        }

        .comment-text {
            color: #f00;
        }

        .big-list {
            font-size: 32px;
            line-height: 80px;
        }

        video {
            width: 100%;
            margin-top: 100px;
        }

        .image-center-container {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .mihome .container {
            display: flex;
            justify-content: center;
        }

        .mihome img {
            width: 300px;
            position: absolute;
        }
    </style>
    <script>


    </script>
</head>
<body class="shower list">
    <header class="caption">
        <h1>React renderer for your Smart home</h1>
    </header>
    <section class="slide" id="cover">

        <h2>React renderer <br /> for your Smart home</h2>

        <img src="images/react-logo.png" />
        <style>
            #cover {
                text-align: center;
            }
            #cover img {
                width: 600px;
            }

            #cover h2 {
                margin:120px 0 0;
                color:black;
                text-align:center;
                font-size: 100px;
            }

            .performance img {
                width: 100%;
            }
        </style>
    </section>

    <section class="slide" id="about">
        <h2>About me</h2>
        <div class="about-cover">
            <img src="images/avatar.jpg" class="avatar" />
            <div>
                <h2>Alexey Zaslavsky</h2>
                <div class="wrapper">
                    Software Engineer at
                    <img class="logo" src="images/wl.png" />
                </div>
            </div>
        </div>

        <style>
            #about .about-cover {
                display: flex;
                align-items: center;
                justify-content: space-around;
                height: 400px;
                font-size: 28px;
            }

            #about .avatar {
                border-radius: 50%;
                width: 300px;
            }

            #about .wrapper {
                display: flex;
                justify-content: center;
                align-items: center;
            }

            #about .logo {
                width: 130px;
                display: inline;
                margin-left: 30px;
            }
        </style>
    </section>

    <section class="slide" id="what-is-fiber">
        <h2>React Fiber</h2>
        <ul class="big-list">
            <li class="next">React core algorithm reimplementation (v16)</li>
            <li class="next">Error boundaries</li>
            <li class="next">Priorities and scheduling</li>
            <li class="next">Asynchronous rendering</li>
            <li class="next bold">API for custom renderers</li>
        </ul>

        <style>
            #what-is-fiber .bold {
                font-weight: bold;
            }
        </style>
    </section>

    <section class="slide">
        <h2>Official renderers from Facebook:</h2>
        <ol class="big-list">
            <li class="next">React DOM</li>
            <li class="next">React Native</li>
            <li class="next">React 360</li>
        </ol>
    </section>

    <section class="slide" id="blessed">
        <h2>React Blessed</h2>
        <div>
            <img src="https://raw.githubusercontent.com/Yomguithereal/react-blessed/master/img/demo.gif" />
        </div>
        <style>
            #blessed img {
                width: 800px;
            }
        </style>
    </section>


    <section class="slide">
        <h2>React Hardware</h2>

    </section>


    <section class="slide">
        <h2>Idea of a renderer:</h2>
        <ol class="big-list">
            <li class="next">Render user interfaces in different environments using the same tools</li>
            <li class="next">Declarative component-based UI</li>
            <li class="next">Learn once â€“ use anywhere</li>
        </ol>
    </section>

    <section class="slide" id="comparison">
        <h2>Difference between UIs and devices:</h2>
        <table>
            <tr>
                <th>Phase</th>
                <th>DOM</th>
                <th>Device</th>
            </tr>
            <tr>
                <td>Initial render</td>
                <td>createElement, <br />appendChild, addEventListener</td>
                <td>connect, add listeners</td>
            </tr>
            <tr>
                <td>Work loop</td>
                <td></td>
                <td>update params</td>
            </tr>
            <tr>
                <td>Unmount</td>
                <td>removeChild, <br/>removeEventListener</td>
                <td>disconnect, remove listeners</td>
            </tr>
        </table>
        <style>
            #comparison tr {
                line-height: 60px;
            }
        </style>
    </section>


    <section class="slide">
        <h2>What can be rendered with React?</h2>
        <ol class="big-list">
            <li class="next">a tree</li>
            <li class="next">changes over time</li>
        </ol>
    </section>

    <section class="slide">
        <h2>React for a device</h2>
        <ol class="big-list">
            <li class="next">setState/forceUpdate</li>
            <li class="next">update props of "device" component</li>
            <li class="next">calculate changed props</li>
            <li class="next">send an update signal to the host environment</li>
        </ol>
    </section>

    <section class="slide">
        <h2 class="shout shrink">Smart Home Appliances</h2>
    </section>

    <section class="slide" id="smart-lamp-tweet">
        <div class="image-container">
            <img src="./images/smart-lamp-tweet.png" />
        </div>
        <style>
            #smart-lamp-tweet .image-container {
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100%;
            }

            #smart-lamp-tweet img {
                width: 700px;
            }
        </style>
    </section>

    <section class="slide" id="smart-device">
        <h2>Is your device smart?</h2>
        <div class="slide-container">
            <div class="left-comparison">
                <img src="images/simple-led.jpg" class="smart-device-image">
                <ol>
                    <li class="next">Turn on/off</li>
                </ol>
            </div>
            <div class="right-comparison">
                <img src="images/yeelight.jpg" class="smart-device-image">
                <ol>
                    <li class="next">WiFi/Bluetooth connectivity</li>
                    <li class="next">Can be controlled remotely</li>
                    <li class="next">Brightness/color can be adjusted</li>
                    <li class="next">Currently DDoSing Github ðŸ¤ª</li>
                </ol>
            </div>
        </div>
        <style>
            #smart-device .slide-container {
                display: flex;
            }

            #smart-device .left-comparison {
                flex: 1;
            }

            #smart-device .right-comparison {
                flex: 1;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: flex-start;
            }

            #smart-device .smart-device-image {
                width: 300px;
            }
        </style>
    </section>

    <section class="slide">
        <h2>Xiaomi Smart Home</h2>
        <ol class="big-list">
            <li class="next">Lamps</li>
            <li class="next">Buttons</li>
            <li class="next">Switches</li>
            <li class="next">Sensors</li>
            <li class="next">Sockets</li>
            <li class="next">Vacuum Cleaner Robots</li>
        </ol>
    </section>

    <section class="slide" id="zigbee-controller">
        <h2>Xiaomi ZigBee controller</h2>
        <div class="container">
            <img src="./images/gateway-1.png">
        </div>

        <style>
            #zigbee-controller img {
                width: 800px;
            }
        </style>
    </section>

    <section class="slide">
        <h2>Xiaomi Yeelight Light bulb</h2>
    </section>


    <section class="slide mihome">
        <h2>Xiaomi MiHome</h2>
        <div class="container">
            <img src="images/mihome-1.png">
        </div>
    </section>

    <section class="slide mihome">
        <h2>Xiaomi MiHome</h2>
        <div class="container">
            <img src="images/mihome-2.png">
        </div>
    </section>

    <section class="slide mihome">
        <h2>Xiaomi MiHome</h2>
        <div class="container">
            <img src="images/mihome-3.png">
        </div>
    </section>

    <section class="slide mihome">
        <h2>Xiaomi MiHome</h2>
        <div class="container">
            <img src="images/mihome-4.png">
        </div>
    </section>

    <section class="slide mihome">
        <h2>Xiaomi MiHome</h2>
        <div class="container">
            LIGHT CONTROL
        </div>
    </section>

    <section class="slide mihome">
        <h2>Xiaomi MiHome</h2>
        <div class="container">
            <img src="images/mihome-5.png">
        </div>
    </section>

    <section class="slide mihome">
        <h2>Xiaomi MiHome</h2>
        <div class="container">
            <img src="images/mihome-6.png">
        </div>
    </section>

    <section class="slide">
        <h2>What protocols are used to control?</h2>
        <ol class="big-list">
            <li class="next">Communication with Xiaomi Cloud (proprietary, no spec)</li>
            <li class="next">Local network (properietary, reverse engineered)</li>
        </ol>
    </section>

    <section class="slide">
        <h2>Local network protocol</h2>
        <ol class="big-list">
            <!-- <li class="next">UDP port 54321</li> -->
            <li class="next">Encrypted binary protocol over UDP</li>
            <li class="next">Token required (could be obtained from the official app backup)</li>
            <li class="next">Devices broadcast the updates in the local network</li>
        </ol>
    </section>

    <section class="slide">
        <h2>Miio on npm</h2>
        <div class="image-center-container">
            <img src="./images/npm-miio.gif">
        </div>
    </section>

    <section class="slide">
        <h2>Programmatic control</h2>
        <div class="image-center-container">
            <img src="./images/node-miio-code.png" width="500">
        </div>
    </section>

    <section class="slide">
        <h2>Programmatic control</h2>
        <div class="image-center-container">
            SHOW CONTROLLER
        </div>
    </section>

    <section class="slide" id="smart-home-react">
        <h2 class="shout">Smart Home  + React <br/> = <br/> ?</h2>
        <style>
            #smart-home-react .shout {
                font-size: 80px;
            }
        </style>
    </section>

    <section class="slide">
        <h2 class="shout shrink">react-dom</h2>
    </section>

    <section class="slide" id="smart-dom-big">
        <h2 class="shout shrink">react-<span class="red-header">smart</span>-dom</h2>

        <style>
            #smart-dom-big .red-header {
                color: red;
            }
        </style>
    </section>

    <section class="slide">
        <h2 class="shout shrink">Demo</h2>
    </section>


    <section class="slide" id="references">
        <h2>References</h2>
        <ul>
            <li><a href="https://github.com/iamdustan/tiny-react-renderer">Tiny React Renderer</a></li>
            <li><a href="https://github.com/chentsulin/awesome-react-renderer">Awesome list of React Renderer</a></li>
            <li><a href="https://github.com/OpenMiHome/mihome-binary-protocol">MiHome protocol documentation</a></li>
        </ul>
    </section>

    <section class="slide" id="thanks">
        <h2 class="shout shrink">Thanks!</h2>
    </section>


    <div class="progress"></div>
    <script src="node_modules/shower-core/shower.min.js"></script>
</body>
</html>
